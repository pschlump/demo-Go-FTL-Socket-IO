<!DOCTYPE html>
<html>
<head>
<title>Go (golang) Socket.IO chat</title>
<link rel="stylesheet" href="css/style.css" type="text/css">
</head>
<body>

<div style="display: block;" class="category send-message modal fade in">
<button type="button" class="close alert-close"><span>x</span></button>   
<div class="send-message-technology-robot-img"></div> 
<div>
	<h1>Welcome: Chat Window</h1>	
</div>
<hr>
<div id="scroll-div" class="stop-overflow">
<ul id="messages"></ul>
</div>
<div class="send-message-form">
	<input id="m" autocomplete="off" class="input-message form-control" placeholder="Type Your Message" type="text">
	<button id="send" class="signup-prompt-category-submit submit-form btn btn-orange">Send</button>
</div>
</div>
</div>
<div class="modal-backdrop fade in"></div>

<script src="/js/socket.io.js"></script>
<script src="/js/jquery-1.11.1.js"></script>
<script>

function updateScroll(){
	var element = document.getElementById("scroll-div");
	element.scrollTop = element.scrollHeight;
}

var socket = io();
$("#send").click(function(){
	var msg = $('#m').val();
	socket.emit('chat message', msg);
	$('#messages').append($('<li>').text(msg));
	updateScroll();
	$('#m').val('');
	return false;
});
socket.on('chat message', function(msg){
	$('#messages').append($('<li>').text(msg));
	updateScroll();
});

updateScroll();
</script>

</body>
</html>
